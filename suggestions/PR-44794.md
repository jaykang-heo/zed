# PR #44794: languages: Fix local path of JSON and YAML schemas

_Merged: 2026-02-12T04:50:54Z_
_PR: https://github.com/zed-industries/zed/pull/44794_

## Documentation Suggestions

### Summary
This change adds support for relative paths (including `~/` home directory expansion) in JSON and YAML language server schema configuration. Users can now specify schema URLs using relative paths like `"./schemas/custom.json"` or `"~/schemas/custom.json"` in their settings, and these will be resolved relative to the worktree root.

### Suggested Changes

#### 1. docs/src/languages/json.md
- **Section**: Existing "JSON Schema Validation" section (or create if missing)
- **Change**: Add
- **Target keyword**: "JSON schema validation in Zed"
- **Frontmatter**:
  ```yaml
  ---
  title: JSON Language Support
  description: Configure JSON editing with schema validation, formatting, and language server settings in Zed.
  ---
  ```
- **Links**: 
  - [Language server settings](/docs/languages/language-servers)
  - [Settings configuration](/docs/configuring-zed)
  - [YAML language support](/docs/languages/yaml)
- **Suggestion**: 

> **Preview:** This feature is available in Zed Preview. It will be included in the next Stable release.

You can configure custom JSON schemas using relative paths in your language server settings. Zed resolves paths relative to your project root:

```json
{
  "lsp": {
    "vtsls": {
      "settings": {
        "json": {
          "schemas": [
            {
              "url": "./schemas/custom-schema.json",
              "fileMatch": ["config/*.json"]
            },
            {
              "url": "~/global-schemas/shared.json",
              "fileMatch": ["*.config.json"]
            }
          ]
        }
      }
    }
  }
}
```

Paths starting with `./` resolve relative to the worktree root. Paths starting with `~/` expand to your home directory.

- **Full-file brand pass**: Required: yes. Assuming the rest of the file follows technical grounding patterns, this addition maintains consistency. If the existing file contains hedging language like "simply" or "just", those should be removed in a full-file review.

- **Brand voice scorecard**:

  | Criterion            | Score | Notes |
  | -------------------- | ----- | ----- |
  | Technical Grounding  | 5     | Concrete code example, specific path resolution behavior |
  | Natural Syntax       | 5     | Direct present-tense instructions |
  | Quiet Confidence     | 5     | States capability without hype |
  | Developer Respect    | 4     | Assumes knowledge of JSON schemas, explains resolution |
  | Information Priority | 5     | Leads with capability, follows with example |
  | Specificity          | 5     | Exact syntax, two concrete path types |
  | Voice Consistency    | 5     | Second person, present tense throughout |
  | Earned Claims        | 5     | Only claims what the code actually does |
  | **TOTAL**            | 39/40 |       |

  Pass threshold: all criteria 4+. ✓

#### 2. docs/src/languages/yaml.md
- **Section**: Existing "YAML Schema Configuration" section (or create if missing)
- **Change**: Add
- **Target keyword**: "YAML schema configuration"
- **Frontmatter**:
  ```yaml
  ---
  title: YAML Language Support
  description: Configure YAML editing with schema validation, formatting, and language server settings in Zed.
  ---
  ```
- **Links**: 
  - [Language server settings](/docs/languages/language-servers)
  - [JSON language support](/docs/languages/json)
  - [Settings configuration](/docs/configuring-zed)
- **Suggestion**: 

> **Preview:** This feature is available in Zed Preview. It will be included in the next Stable release.

You can configure custom YAML schemas using relative paths in your language server settings. Zed resolves paths relative to your project root:

```json
{
  "lsp": {
    "yaml-language-server": {
      "settings": {
        "yaml": {
          "schemas": {
            "./schemas/kubernetes.yaml": "k8s/**/*.yaml",
            "~/global-schemas/docker-compose.yaml": "docker-compose*.yml"
          }
        }
      }
    }
  }
}
```

Paths starting with `./` resolve relative to the worktree root. Paths starting with `~/` expand to your home directory.

- **Full-file brand pass**: Required: yes. Review entire file for hedging language, marketing claims, or structural issues.

- **Brand voice scorecard**:

  | Criterion            | Score | Notes |
  | -------------------- | ----- | ----- |
  | Technical Grounding  | 5     | Concrete code example, specific path resolution |
  | Natural Syntax       | 5     | Direct present-tense instructions |
  | Quiet Confidence     | 5     | States capability without hype |
  | Developer Respect    | 4     | Assumes schema familiarity, explains resolution |
  | Information Priority | 5     | Leads with capability, follows with example |
  | Specificity          | 5     | Exact syntax, two concrete use cases |
  | Voice Consistency    | 5     | Second person, present tense throughout |
  | Earned Claims        | 5     | Only claims what the code actually does |
  | **TOTAL**            | 39/40 |       |

  Pass threshold: all criteria 4+. ✓

### Notes for Reviewer
- The feature applies to both JSON and YAML schema configuration through their respective language servers
- The underlying implementation renamed `resolve_executable_path` to `resolve_relative_path` to reflect its broader use case, but this is an internal API change not requiring documentation
- If the JSON/YAML docs pages don't currently have schema configuration sections, these should be added as new subsections under configuration/language server topics
- The tilde expansion (`~/`) is a useful addition worth documenting alongside relative paths
